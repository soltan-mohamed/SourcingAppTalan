<div class="email-template-container">
    <div class="email-content-wrapper">

        <!-- Language Selection -->
        <div class="language-section">
            <div class="language-buttons">
                <button (click)="changeLanguage('FR')" 
                        [class.active]="lang === 'FR'" 
                        class="language-btn">
                    ðŸ‡«ðŸ‡·
                    <svg width="24" height="16" viewBox="0 0 3 2">
                        <rect width="1" height="2" fill="#002395"/>
                        <rect x="1" width="1" height="2" fill="#ffffff"/>
                        <rect x="2" width="1" height="2" fill="#ed2939"/>
                    </svg>
                    <span>FranÃ§ais</span>
                </button>

                <button (click)="changeLanguage('EN')" 
                        [class.active]="lang === 'EN'" 
                        class="language-btn">
                    ðŸ‡¬ðŸ‡§
                    <svg width="24" height="16" viewBox="0 0 60 40">
                        <rect width="60" height="40" fill="#012169"/>
                        <path d="M0,0 L60,40 M60,0 L0,40" stroke="#fff" stroke-width="10"/>
                        <path d="M0,0 L60,40 M60,0 L0,40" stroke="#C8102E" stroke-width="6"/>
                        <rect x="25" width="10" height="40" fill="#fff"/>
                        <rect y="15" width="60" height="10" fill="#fff"/>
                        <rect x="27" width="6" height="40" fill="#C8102E"/>
                        <rect y="17" width="60" height="6" fill="#C8102E"/>
                    </svg>
                    <span>English</span>
                </button>
            </div>
        </div>

        <!-- Email Preview Card -->
        <div class="email-preview-card">


            <!-- Email Metadata -->
            <div class="email-meta">
                <div class="subject-line">
                    <strong *ngIf="lang === 'EN'">Subject:</strong> 
                    <strong *ngIf="lang === 'FR'">Objet:</strong> 
                    <span *ngIf="lang === 'EN'">{{data.evaluation.type}} interview for {{data.position}} position at Talan Tunisie</span>
                    <span *ngIf="lang === 'FR'">Entretien {{data.evaluation.type}} pour le poste de {{data.position}} au sein de Talan Tunisie</span>
                </div>

                <div class="destination-line">
                    <strong>Destination:</strong> {{data.candidate.email}}
                </div>
            </div>
        
            <!-- Email Content -->
            <div class="email-content" id="emailContent">
                <div class="greeting">
                    <p>
                        <span *ngIf="lang === 'EN'">Dear </span>
                        <span *ngIf="lang === 'FR'">Bonjour </span>
                        <span class="highlight">{{data.candidate.name}}</span>,
                    </p>
                </div>
                
                <p *ngIf="lang === 'EN'">I hope this email finds you well. My name is <span class="highlight"> {{getUserName()}} </span>, and I'm a <span class="highlight"> recruiter </span> at <span class="highlight"> Talan Tunisie </span>.</p>
                <p *ngIf="lang === 'FR'">
                    Jâ€™espÃ¨re que vous allez bien. Je mâ€™appelle <span class="highlight"> {{getUserName()}} </span>, et je suis <span class="highlight"> membre de l'Ã©quipe de recrutement </span> chez <span class="highlight"> Talan Tunisie </span>.
                </p>
                
                <div class="opportunity">
                    <p *ngIf="lang === 'EN'">
                        We have an exciting <span class="highlight">{{data.position}}</span> opportunity at <span class="highlight">Talan</span> 
                        that matches your skills and experience perfectly.
                    </p>
                    <p *ngIf="lang === 'FR'">
                        Nous avons une opportunitÃ© de <span class="highlight">{{data.position}}</span> chez <span class="highlight">Talan</span> 
                        qui correspond parfaitement Ã  vos compÃ©tences.
                    </p>
                </div>

                <div class="benefits" *ngIf="data.evaluation.type === 'RH'">
                    <div class="benefits-header" *ngIf="lang === 'EN'">
                        <strong>What we offer:</strong>
                    </div>
                    <div class="benefits-header" *ngIf="lang === 'FR'">
                        <strong>Ce que nous offrons:</strong>
                    </div>
                    
                    <ul *ngIf="lang === 'EN'">
                        <li>Competitive salary</li>
                        <li>Health benefits</li>
                        <li>Flexible work</li>
                        <li>Professional development</li>
                    </ul>
                    
                    <ul *ngIf="lang === 'FR'">
                        <li>Salaire compÃ©titif</li>
                        <li>Avantages santÃ©</li>
                        <li>Travail flexible</li>
                        <li>DÃ©veloppement professionnel</li>
                    </ul>
                </div>
                
                <p *ngIf="lang === 'EN'">I would love to schedule a brief 15-20 minute call on <span class="highlight">{{formatContactDate(data.evaluation.date)}}</span> at <span class="highlight">{{formatContactTime(data.evaluation.date)}}</span> Tunis Time to discuss this opportunity in more detail and learn more about your career goals. Would you be available for a conversation this week or next?</p>
                <p *ngIf="lang === 'FR'">
                    Je vous propose de planifier un bref appel de 15 Ã  20 minutes le 
                    <span class="highlight">{{formatContactDate(data.evaluation.date)}}</span> Ã  
                    <span class="highlight">{{formatContactTime(data.evaluation.date)}}</span>, heure de Tunis, 
                    afin de discuter plus en dÃ©tail de cette opportunitÃ© et dâ€™en savoir plus sur vos objectifs de carriÃ¨re. 
                    Seriez-vous disponible pour un Ã©change Ã  cette date?
                </p>


                <p *ngIf="lang === 'EN'">Please feel free to reach out to me directly at <span class="highlight"> recruiterContact || '[Recruiter Contact]' </span> or simply reply to this email.</p>
                <p *ngIf="lang === 'FR'">
                    Nâ€™hÃ©sitez pas Ã  me contacter directement Ã  lâ€™adresse suivante : <span class="highlight"> recruiterContact || '[CoordonnÃ©es du recruteur]' </span> ou simplement Ã  rÃ©pondre Ã  cet e-mail.
                </p>

                <p *ngIf="lang === 'EN'">Thank you for your time, and I look forward to hearing from you soon!</p>
                <p *ngIf="lang === 'FR'">Merci pour votre temps, et jâ€™espÃ¨re avoir de vos nouvelles trÃ¨s bientÃ´t&nbsp;!</p>

                <div class="signature">
                    <div class="signature-logo">
                        <img src="assets/images/talan-logo2.png" alt="Talan Logo" class="logo-img">
                    </div>
                    <div *ngIf="lang === 'EN'" class="signature-content">
                        <p><strong>{{getUserName()}}</strong><br>
                        Recruiter - Talan Tunisie</p>
                    </div>
                    <div *ngIf="lang === 'FR'" class="signature-content">
                        <p><strong>{{getUserName()}}</strong><br>
                        Recruteur - Talan Tunisie</p>
                    </div>
                </div>

            </div>

            <div class="copy-actions">
                <button class="copy-btn" (click)="copyEmailTemplate()">
                    Copy Email Template
                </button>
            </div>

        </div>
    </div>
</div>