<div class="auth-container">
  <div class="row auth-main">
    <div class="col-sm-6 px-0 d-none d-sm-block">
      <div class="left-img" style="background-image: url(assets/images/talan-logo2.png);">
      </div>
    </div>
    <div class="col-sm-6 auth-form-section">
      <div class="form-section">
        <div class="auth-wrapper">
          <h2 class="welcome-msg">Welcome to Sourcing Talan</h2>

          
          <!-- Role Selection Buttons -->
   

          <h3 class="login-title">Sign in to your account</h3>
          
          <form class="validate-form" [formGroup]="authForm" (ngSubmit)="onSubmit()">
            <!-- Email Field -->
            <div class="row">
              <div class="col-12 mb-3">
                <mat-form-field class="example-full-width" appearance="outline">
                  <mat-label>Email</mat-label>
                  <input matInput 
                         formControlName="email" 
                         type="email"
                         placeholder="Enter your email">
                  <mat-icon matSuffix>mail_outline</mat-icon>
                  @if (authForm.get('email')?.hasError('required')) {
                    <mat-error>Email is required</mat-error>
                  }
                  @if (authForm.get('email')?.hasError('email')) {
                    <mat-error>Please enter a valid email</mat-error>
                  }
                </mat-form-field>
              </div>
            </div>
            
            <!-- Password Field -->
            <div class="row">
              <div class="col-12 mb-2">
                <mat-form-field class="example-full-width" appearance="outline">
                  <mat-label>Password</mat-label>
                  <input matInput 
                         [type]="hide ? 'password' : 'text'" 
                         formControlName="password"
                         placeholder="Enter your password">
                  <button type="button" mat-icon-button matSuffix (click)="hide = !hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                  </button>
                  @if (authForm.get('password')?.hasError('required')) {
                    <mat-error>
                      <mat-icon>error_outline</mat-icon>
                      Password is required
                    </mat-error>
                  }
                </mat-form-field>
              </div>
            </div>

            <!-- Remember Me & Forgot Password -->
            <div class="d-flex justify-content-between align-items-center mb-4">
              <mat-checkbox>Remember me</mat-checkbox>

            </div>

            <!-- Error Message -->
            @if (error) {
              <div class="alert alert-danger mt-3 mb-3">
               <!---- <mat-icon>error_outline</mat-icon>-->
                {{error}}
              </div>
            }

            <!-- Submit Button -->
            <div class="d-grid gap-2">
              <button mat-raised-button 
                      color="primary" 
                      type="submit"
                      [disabled]="!authForm.valid || loading"
                      class="login-btn">
                @if (loading) {
                  <!--<mat-spinner diameter="24"></mat-spinner>-->
                } @else {
                  Login
                }
              </button>
            </div>
          </form>

          <!-- Footer Links -->

        </div>
      </div>
    </div>
  </div>
</div>